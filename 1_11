h1. 1.1

h2. Список сотрудников

*** Строки
**** ФИО
**** Должность
**** Роль
**** Электронная почта
**** Телефон
**** Активный
**** Следить на карте
*** Кнопки
**** "Добавить"

Список сотрудников отличается от списка пользователей, тем что здесь собраны только сотрудники, без клиентов и пользователей с неподтвержденной регистрацией
Просматривать или управлять списком могут только те пользователи, которые имеют доступ в роли. Видимость ограничена областью видимости сотрудника. Поля для просмотра настраиваются в фильтре



h2. Форма редактирования сотрудников

*** Фамилия
*** Имя
*** Отчество
*** Электронная почта
*** Логин
*** Пароль
*** Подтверждение пароля
*** Роль
*** Выслать письмо после добавления (Да/Нет)
*** Кнопка "Сохранить"

h2. Карточка сотрудника

*** Личной информации
*** Заявки сотрудника
*** Оборудование на сотруднике
*** История действий

Это страница должна быть агрегирующей обо всех аспектах сотрудника. По карточке сотрудника должно быть просто понимать когда и что он делал, для быстрого решения вопросов с клиентом по заявке. Так же должно быть просто настраивать его окружение и среду для работы в программе. 


h2. Список группы сотрудников

*** Строки
**** Название
**** Ответственный
**** Кол-во сотрудников в группе
**** Удаление записи
**** Редактирование записи
*** Добавление записи

Необходимо для связывания сотрудников в группы и назначения ответственного. Видимость списка, редактирование, удаление ячеек обусловлено правами пользователя.
Удаление невозможно, если есть связи с группой, которые нельзя удалять.

h2. Форма редактирования сотрудника

*** Название
*** Пользователи, которые не входят в группу
*** Пользователи в группе
*** Ответственный сотрудник
*** Кнопка "Сохранить"

Форма недоступна если у пользователя нет прав на редактирование

h2. Карточка сотрудника

См. Карточку пользователя


h2. Настройки системы

** Настройка почтового сервера ( Для рассылки почты )
*** Адрес сервера
*** Порт сервера
*** Логин
*** Пароль
** Настройка доменного имени ( Для перехода по ссылкам из сторонних ресурсов )
*** Адрес сервера


h2. Настройка системы

*** Модули
**** Модуль Сервис-компании
**** Другие модули ( Опрос приборов и прочее )
*** Общие настройки
**** Часовой пояс
**** Ссылка на согласие на обработку персональных данных
**** Title системы
**** Favicon
**** Тема системы
**** Логотип системы

Тут будут различные настройки для модулей, управления модулями и общей работы системы 


h2. Настройки пользователя

*** Часовой пояс
*** Тема системы

Различные настройки, которые пользователь может менять для удобного использования интерфейса


h2. Фильтрации всех сущностей

Содержит все поля сущностей. В зависимости от сущности генерируется фильтр.


Фильтр сбрасывается при переходе на другую страницу, чтобы не хранить ее в базе данных.
Почему сбрасывается фильтрация - пользователь склонен забывать и он при переходе на страницу забудет, что он последний раз фильтровал и увидев пустой список будет думать что это все, что ему доступно. Возможно в последующем можно будет продумать интерфейс, при котором можно будет хранить фильтры и чтобы пользователь их видел и не мог забыть о его последних действиях  

>
> Фильтр по типу поля - Дата
> | Условие фильтрации   |      Результат применения фильтра      |
> |----------|------|
> | соответствует | Соответствует выбранной дате |
> | не соответствует | Не равно выбранной дате   |
> | >= | Больше или равно выбранной даты |
> | <= | Меньше или равно выбранной даты |
> | между | Между выбранными датами |
> | Сегодня | - |
> | Вчера | - |
> | Менее чем дней назад | Сегодня и указанное число дней |
> | Более чем дней назад | Не включая период сегодня и какое то указанное кол-во дней |
> | Дней назад | Сегодня и минус указанное число дней назад |
> | На этой неделе | С понедельника и по сегодня |
> | Последняя неделя | Текущее число и -7 дней |
> | Последние 2 неделя | Текущее число и -14 дней |
> | Этот месяц | С 1 числа текущего месяца и по сегодняшнее число |
> | Последний месяц | Начиная от текущего числа и -31 день |
> | Этот год | С начала года и по текущее число |
>
>
> Фильтр по тип поля - Другая модель
> | Условие фильтрации   |      Результат применения фильтра      |
> |----------|------|
> | соответствует |  Соответствует одному или нескольким элементам из списка |
> | не соответствует | Не подходит не под один элемент, выбранному одному или нескольким из списка |
>
>
> Фильтр по тип поля - Число
> | Условие фильтрации   |      Результат применения фильтра      |
> |----------|------|
> | соответствует | Соответствует введенному числу |
> | не соответствует |  Не соответствует введенному числу   |
> | >= | Больше или равно введенному числу |
> | <= | Меньше или равно введенному числу |
> | между | Находится в диапазоне выбранных чисел, не включая их самих |
>
>
> Фильтр по тип поля - Да/Нет
> | Условие фильтрации   |      Результат применения фильтра      |
> |----------|------|
> | соответствует | Соответствует выбранному ответу |
>
>
> Фильтр по тип поля - Текст
> | Условие фильтрации   |      Результат применения фильтра      |
> |----------|------|
> | содержит |  Содержит в себе фрагмент текста |
> | не содержит |  Не содержит в себе фрагмент текста |



h2. Права

Не обладает интерфейсом и задается системно. Править этот список можно только добавления в сервер.

Права в системе это действия, которые может совершать пользователь
Существует 2 типа действия
* Объектные
* Уникальные

Объектные - права на редактирование, просмотр или удаление какого либо объекта в системе
Уникальные - права на уникальное действие

Объектные доступны на все объекты системы
Уникальные будут наполняться исходя из потребностей системы. (Вернуться к этому вопросу)



h2. Список ролей

* Строки 
** Название
** Удаление
** Редактирование
* Добавление

h2. Форма редактирования роли

* Название
* Право
* Тумблер выключения / выключения


По умолчанию в системе есть одна роль - Рут-пользователь. Этот пользователь нужен для помощи администратору в настройке и ему доступны сервисное меню
* Перезагрузка сервера
* Просмотр информации о лицензии

Ему доступен просмотр всей системы с привязкой к компании GLOABAL - Которая является самой глобальной в системе
У него есть права на все существующие права

При установке системы создается Администратор системы
Он привязывается к компании, которая была создана при первой установке.

Администратору не доступно сервисное меню, но он обладает так же полными правами на всю систему. Ограничен только областью видимости своей компании и компаниями созданными в его окружении

Остальные роли добавляются лицами у которых есть право на это.




* Тестирование
